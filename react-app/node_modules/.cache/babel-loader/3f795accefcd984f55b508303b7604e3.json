{"ast":null,"code":"import _classCallCheck from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/zoezhao/Desktop/CS 157B/dsf/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/zoezhao/Desktop/CS 157B/dsf/src/component/ManagerPage/ManagerPage.js\";\nimport React, { Component } from 'react';\nimport './ManagerPage.css';\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Modal from \"@material-ui/core/Modal/Modal\";\nimport AddItem from \"./AddItem/AddItem\";\nimport Dialog from \"@material-ui/core/Dialog/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent/DialogContent\";\nimport logo from \"../images/ezgif-1-e382b6df9dbb.png\";\nimport userService from \"../../common/services/User/UserService\";\nimport UserStoreService from \"../../common/services/User/UserStoreService\";\n\nvar ManagerPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ManagerPage, _Component);\n\n  function ManagerPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ManagerPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ManagerPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false,\n      scroll: 'body',\n      orderList: []\n    };\n\n    _this.handleRemoveRow = function (id) {\n      var body = {\n        order_id: id\n      };\n      userService.manager_pickup(JSON.stringify(body)).then(function (data) {\n        console.log(data);\n\n        _this.setState({\n          orderList: _this.state.orderList.filter(function (row) {\n            return row !== datas;\n          }),\n          itemIds: _this.state.itemIds.filter(function (row) {\n            return row !== item;\n          })\n        });\n      }).catch(function (error) {\n        alert(error.message);\n      });\n\n      _this.setState({\n        rows: _this.state.rows.slice(0, -1)\n      });\n    };\n\n    _this.handleOpen = function (scroll) {\n      return function () {\n        _this.setState({\n          open: true,\n          scroll: scroll\n        });\n      };\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ManagerPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (UserStoreService.getToken() !== undefined) {\n        userService.manager_display().then(function (data) {\n          console.log(data); //\n\n          _this2.setState({\n            orderList: data\n          }); // console.log(this.state.allData, \"ComponentDidmMount allData\");\n          // console.log(this.state.nameData);\n\n        }).catch(function (error) {\n          alert(error.message);\n        }); // fetch data from backend and assign all to displayCare\n      } else {\n        alert(\"Please Log in\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"rounded mx-auto d-block Mlogo\",\n        src: logo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        bg: \"white\",\n        variant: \"light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Nav.Link, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Hi, Manager\"), React.createElement(Nav.Link, {\n        onClick: this.handleOpen('body'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Add Item\"))), React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleClose,\n        scroll: this.state.scroll,\n        \"aria-labelledby\": \"scroll-dialog-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(AddItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-bordered table-hover\",\n        id: \"tab_logic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \" Order Id \"), React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \" Order Detail \"), React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \" Order Time \"), React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \" Pick up \"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, this.state.orderList.map(function (item, idx) {\n        return React.createElement(\"tr\", {\n          id: \"addr0\",\n          key: idx,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, item.order_id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, item.detail), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, item.order_time), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: _this3.handleRemoveRow(item.order_id),\n          className: \" btn btn-danger\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, \"Pick up\")));\n      })))))));\n    }\n  }]);\n\n  return ManagerPage;\n}(Component);\n\nexport default ManagerPage;","map":{"version":3,"sources":["/Users/zoezhao/Desktop/CS 157B/dsf/src/component/ManagerPage/ManagerPage.js"],"names":["React","Component","Navbar","Nav","Modal","AddItem","Dialog","DialogContent","logo","userService","UserStoreService","ManagerPage","state","open","scroll","orderList","handleRemoveRow","id","body","order_id","manager_pickup","JSON","stringify","then","data","console","log","setState","filter","row","datas","itemIds","item","catch","error","alert","message","rows","slice","handleOpen","handleClose","getToken","undefined","manager_display","map","idx","detail","order_time"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './ManagerPage.css'\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Modal from \"@material-ui/core/Modal/Modal\";\nimport AddItem from \"./AddItem/AddItem\";\nimport Dialog from \"@material-ui/core/Dialog/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent/DialogContent\";\nimport logo from \"../images/ezgif-1-e382b6df9dbb.png\";\nimport userService from \"../../common/services/User/UserService\";\nimport UserStoreService from \"../../common/services/User/UserStoreService\";\n\nclass ManagerPage extends Component {\n    state = {\n\n        open: false,\n        scroll: 'body',\n        orderList: [],\n    };\n    componentDidMount() {\n\n\n\n        if(UserStoreService.getToken() !== undefined) {\n\n        userService.manager_display().then((data) => {\n\n            console.log(data);\n            //\n             this.setState({orderList: data});\n            // console.log(this.state.allData, \"ComponentDidmMount allData\");\n            // console.log(this.state.nameData);\n        }).catch((error) => {\n            alert(error.message);\n        });\n\n        // fetch data from backend and assign all to displayCare\n    }\n    else{\n        alert(\"Please Log in\")\n        }\n\n    }\n    handleRemoveRow = (id) => {\n\n        let body = {\n            order_id: id\n        };\n\n        userService.manager_pickup(JSON.stringify(body)).then((data) => {\n\n            console.log(data);\n            this.setState({\n                orderList: this.state.orderList.filter(function (row) {\n                    return row !== datas;\n                }),\n                itemIds: this.state.itemIds.filter(function (row) {\n                    return row !== item;\n                }),\n            });\n        }).catch((error) => {\n            alert(error.message);\n        });\n\n        this.setState({\n            rows: this.state.rows.slice(0, -1)\n        });\n    };\n    handleOpen = scroll => () => {\n        this.setState({open: true, scroll});\n    };\n\n    handleClose = () => {\n        this.setState({open: false});\n    };\n    render() {\n        return (\n            <div>\n                <div className=\"container\">\n                    <img className=\"rounded mx-auto d-block Mlogo\" src={logo}/>\n                    <Navbar bg=\"white\" variant=\"light\">\n                        <Nav className=\"float-right\">\n                            <Nav.Link >Hi, Manager</Nav.Link>\n                            <Nav.Link onClick={this.handleOpen('body')}>Add Item</Nav.Link>\n                        </Nav>\n                    </Navbar>\n                    <Dialog\n                        open={this.state.open}\n                        onClose={this.handleClose}\n                        scroll={this.state.scroll}\n                        aria-labelledby=\"scroll-dialog-title\"\n                        aria-describedby=\"simple-modal-description\"\n                    >\n                        <DialogContent>\n\n                        <AddItem/>\n                        </DialogContent>\n                    </Dialog>\n                    <div className=\"row clearfix\">\n                        <div className=\"col-md-12 column\">\n                            <table\n                                className=\"table table-bordered table-hover\"\n                                id=\"tab_logic\"\n                            >\n                                <thead>\n                                <tr>\n                                    <th className=\"text-center\"> Order Id </th>\n                                    <th className=\"text-center\"> Order Detail </th>\n                                    <th className=\"text-center\"> Order Time </th>\n                                    <th className=\"text-center\"> Pick up </th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {this.state.orderList.map((item, idx) => (\n                                    <tr id=\"addr0\" key={idx}>\n                                        <td>{item.order_id}</td>\n                                        <td>\n                                            {item.detail}\n                                        </td>\n                                        <td>\n                                            {item.order_time}\n                                        </td>\n                                        <td>\n                                            <button\n                                                onClick={this.handleRemoveRow(item.order_id)}\n                                                className=\" btn btn-danger\"\n                                            >\n                                                Pick up\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))}\n                                </tbody>\n                            </table>\n\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ManagerPage;"]},"metadata":{},"sourceType":"module"}